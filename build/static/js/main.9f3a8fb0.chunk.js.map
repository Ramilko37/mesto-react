{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["resHandler","res","console","log","status","ok","json","Promise","reject","api","options","this","_url","url","_headers","headers","all","getInitialCards","getUserInfo","fetch","method","then","data","body","JSON","stringify","name","about","link","id","avatar","authorization","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","Provider","value","type","onClick","onCardDelete","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","ImagePopup","onClose","Footer","PopupWithForm","isOpen","title","noValidate","children","onSubmit","buttonName","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","EditAvatarPopup","avatarRef","useRef","e","onUpdateAvatar","current","autoComplete","ref","focus","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closePopups","userData","catch","err","like","newCard","newCards","c","deleteCard","filter","info","setUserInfo","addCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f3a8fb0.chunk.js","sourcesContent":["\n// const modifiedFetch = (url, headers) => {\n//   return fetch(url, headers)\n//     .then(res => {\n//       if (res.ok) {\n//         return res.json();\n\n//       }\n\n//       // если ошибка, отклоняем промис\n//       return Promise.reject(`Ошибка: ${res.status}`);\n//     })\n//     .catch(err => console.log(err));\n// }\n\nconst resHandler = res => {\n  console.log(res.status);\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n}\n\n\n\nclass Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n\n  getContent() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]) // [cards,userInfo]\n  }\n\n\n\n\n  // Загрузка карточек  сервера\n  getInitialCards() {\n    // return fetch(`${this._url}/cards`, {\n    return fetch(`${this._url}/cards`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(resHandler)\n    \n\n  }\n\n  // Загрузка информации о пользователе с сервера\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(resHandler)\n    \n  }\n\n  // Редактирование профиля\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      })\n      .then(resHandler)\n   \n\n  }\n\n\n\n  // Добавление новой карточки\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link\n        })\n      })\n      .then(resHandler)\n    \n\n  }\n\n  //подтверждение удаления\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n  }\n\n  //счетчик лайков\n  // PUT https://mesto.nomoreparties.co/v1/cohortId/cards/likes/cardId \n  like(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers,\n      })\n      .then(resHandler)\n  \n\n  }\n\n  //отменить лайк\n  dislike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n      .then(resHandler)\n    \n\n  }\n\n  //обновить аватар\n  setUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({ avatar: data.avatar })\n      })\n      .then(resHandler)\n    \n  }\n}\n\n\n\n\n\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"be6e413a-ec4e-40fe-a90b-19ec5fbfee46\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n\n\n\n","export default __webpack_public_path__ + \"static/media/logo.abb64ac9.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Здесь должно быть лого\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\nconst currentUser = React.useContext(CurrentUserContext);\n\nconst isOwn = props.card.owner._id === currentUser._id;\nconst cardDeleteButtonClassName = (\n  `location__delete ${isOwn ? '' : 'location__delete location__delete_hidden'}`\n);\nconst isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\nconst cardLikeButtonClassName =  (\n`location__like ${isLiked ? 'location__like_active' : ''}`\n);\n\nfunction handleClick() { props.onCardClick(props.card); }\n\nfunction handleLikeClick() { props.onCardLike(props.card); }\n\nfunction handleDeleteCard() { props.onCardDelete(props.card); }\n\n    return(\n        <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"location\" > \n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteCard}/>\n        <img className=\"location__image\" onClick={handleClick} src={props.card.link} alt={`Картинка ${props.card.name}`}/>\n        <div className=\"location__description\">\n        <h2 className=\"location__title\">{props.card.name}</h2>\n            <div className=\"location__like-container\">\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n                <span className=\"location__like-counter\">{props.card.likes.length}</span>\n            </div>\n        </div>\n        </div>\n        </CurrentUserContext.Provider> \n    )   \n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"./Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__info\">\n            <div className=\"profile__img\">\n              <span className=\"profile__overlay\" onClick={onEditAvatar} />\n              <img\n                className=\"profile__avatar\"\n                src={currentUser.avatar}\n                alt=\"Аватар\"\n              />\n            </div>\n\n            <div className=\"profile__form\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__description\">{currentUser.about}</p>\n            </div>\n            <button\n              className=\"profile__edit-button\"\n              onClick={onEditProfile}\n              type=\"button\"\n            />\n          </div>\n\n          <button\n            className=\"profile__add-button\"\n            onClick={onAddPlace}\n            type=\"button\"\n          />\n        </section>\n        <section className=\"places\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onCardDelete={onCardDelete}\n              onCardClick={() => onCardClick(card)}\n              onCardLike={onCardLike}\n              key={card._id}\n            />\n          ))}\n        </section>\n      </main>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.card && `popup_opened`\n      }`}\n    >\n      <div className=\"popup__container-image\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        />\n        <img\n          className=\"popup__image\"\n          src={props.card && props.card.link}\n          alt={props.card && `Картинка ${props.card.name}`}\n        />\n        <h3 className=\"popup__caption\">{props.card && props.card.name}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">©2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : ``\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form name={`${props.name}`} className=\"popup__form\" noValidate>\n          {props.children}\n          <button\n            type=\"submit\"\n            className=\"popup__button\"\n            onClick={props.onSubmit}\n          >\n            {props.buttonName}\n          </button>{\" \"}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handlDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit-profile\"\n      buttonName=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <div>\n        <input\n          name=\"name\"\n          value={name}\n          placeholder=\"Введите текст\"\n          type=\"text\"\n          required\n          className=\"popup__input popup__input_type_name\"\n          minLength={2}\n          maxLength={40}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__error\" id=\"name-error\" />\n        <input\n          name=\"job\"\n          value={description}\n          placeholder=\"Введите текст\"\n          type=\"text\"\n          required\n          className=\"popup__input popup__input_type_job\"\n          minLength={2}\n          maxLength={200}\n          onChange={handlDescriptionChange}\n        />\n        <span className=\"popup__error\" id=\"job-error\" />\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef(0);\n\n  function handleAvatarChange() {\n    avatarRef.current.focus();\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n\nreturn (\n<PopupWithForm \n  title=\"Обновить аватар\"\n  name=\"add-avatar\"\n  buttonName=\"Создать\"\n  isOpen={props.isOpen}\n  onClose={props.onClose}\n  onSubmit={handleSubmit}\n>\n  \n     <input name=\"url\"\n             placeholder=\"Ссылка на новый аватар\"\n           type=\"url\"\n            className=\"popup__input popup__input_type_url\"\n            autoComplete=\"off\" \n            required \n            ref={avatarRef}\n            onChange={handleAvatarChange}/>\n      <span className=\"popup__error\" id=\"url-error\"/>\n  </PopupWithForm>\n\n)\n\n\n}\n\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n    setName(\"\");\n    setLink(\"\");\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add-card\"\n      buttonName=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <div>\n        <input\n          name=\"place\"\n          placeholder=\"Название\"\n          type=\"text\"\n          className=\"popup__input popup__input_type_place\"\n          minLength={2}\n          maxLength={30}\n          autoComplete=\"off\"\n          required\n          value={name}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__error\" id=\"place-error\" />\n        <input\n          name=\"url\"\n          placeholder=\"Ссылка на картинку\"\n          type=\"url\"\n          className=\"popup__input popup__input_type_url\"\n          autoComplete=\"off\"\n          required\n          value={link}\n          onChange={handleLinkChange}\n        />\n        <span className=\"popup__error\" id=\"url-error\" />\n      </div>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport api from \"../utils/api.js\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport \"../index.css\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport CurrentUserContext from \"./../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const handleEditProfileClick = () =>\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const handleAddPlaceClick = () =>\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const handleEditAvatarClick = () =>\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n  const handleCardClick = (card) => setSelectedCard(card);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const closePopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(undefined);\n  };\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api.like(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(`Ошибка лайка карточки ${err}`);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка удаления карточки ${err}`);\n      });\n  }\n\n  function handleUpdateUser(info) {\n    api\n      .setUserInfo(info)\n      .then((res) => {\n        setCurrentUser(res);\n        closePopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка обновления данных пользователя ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closePopups();\n      })\n      .catch((err) =>\n        console.log(`Ошибка при замене аватара пользователя ${err}`)\n      );\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .addCard(data)\n      .then((res) => {\n        const newCard = res;\n        setCards([newCard, ...cards]);\n        closePopups();\n      })\n      .catch((err) => console.log(`Ошибка при добавлении новой карточки ${err}`));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closePopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closePopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closePopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <ImagePopup onClose={closePopups} card={selectedCard} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}